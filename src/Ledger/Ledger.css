#main {
   grid-area: main;
   background: var(--panel-background);
   box-shadow: 3px 3px 4px 0px var(--shadow-color);

   display: flex;
   flex-flow: column nowrap;
}

.ledger {
   --line-height: 1.2em;
}

.ledger .tr {
   display: flex;
   width: 100%;         /* All rows use the full width */
}
.ledger .th,
.ledger .td {
   display: inline-block;
   flex: 1 1;
   height: var(--line-height); /* even empty lines should use some space */
   border-style: solid;
   border-color: var(--table-color);
   border-width: var(--table-horiz-border-width) var(--table-vert-border-width);
   padding: 3px 2px;
   overflow: hidden;  /* obey column sizes */
}
.ledger .th {
   font-weight: bold;
}
.ledger .td {
   text-align: left;  /* default alignment */
}
.ledger .thead .tr .th {
   border-bottom: 1px solid var(--table-color);
   margin-bottom: 5px;
   cursor: pointer;  /* indicate that we can sort by clicking */
}
.ledger .tfoot .tr .th {
   margin-top: 10px;   /* between table and footer */
   margin-left: 20px;  /* space between items */
}

.ledger .tr.details .td {
   color: #aaa;       /* darker color for split transaction details */
   font-style: italic;
}


/**
 * Always display the scrollbar: otherwise it ends up resizing the width of
 * tbody when it appears, and the header's width is no longer in sync. We
 * style it to make it less like a gray block though, using either standard
 * CSS (firefox), or -webkit specific ones (Chrome + Safari)
 *    https://alligator.io/css/css-scrollbars/
 */
.ledger .tr:after {
   width: var(--scrollbar-width);
   content: '';
}
.ledger .tbody {
   overflow-y: scroll;   /* Show scrollbar always */
   scrollbar-color: var(--tool-background) var(--panel-background);  /* firefox */
}
.ledger .tbody::-webkit-scrollbar {
   width: auto;
}
.ledger .tbody::-webkit-scrollbar-track {
   background: var(--panel-background);
}
.ledger .tbody::-webkit-scrollbar-thumb {
   background-color: var(--tool-background);
   border-radius: 20px;
   border: 3px solid var(--panel-background);
}

/**
 * Show sorting icons
 */
.ledger .thead .tr .th.sorted-down:after,
.ledger .thead .tr .th.sorted-up:after,
.ledger .thead .tr:hover .th.sortable:after {
   display: inline-block;
   font: normal normal normal 14px/1 FontAwesome;
   text-rendering: auto;
   margin-left: 5px;
   -webkit-font-smoothing: antialiased;
   -moz-osx-font-smoothing: grayscale;
}
.ledger .thead .tr:hover .th.sortable:after {
   content: "\f0dc" !important;
}
.ledger .thead .tr .th.sorted-down:after {
   content: "\f0dd";
}
.ledger .thead .tr .th.sorted-up:after {
   content: "\f0de";
}

/**
 * Expandable rows
 */
.ledger .trgroup.expandable:before {
   --size: 20px;

   position: absolute;
   font: normal normal normal 14px/1 FontAwesome;
   text-rendering: auto;
   width: var(--size);
   margin-left: -20px;
   font-size: 25px;
   -webkit-font-smoothing: antialiased;
   -moz-osx-font-smoothing: grayscale;
   display: inline-block;
   cursor: pointer;
}
.ledger .trgroup.collapsed:before {
   content: "\f0da";
   transform: rotateZ(0) translate(25%,0%);
   transition: transform 0.2s;
}
.ledger .trgroup.expanded:before {
   content: "\f0da";
   transform: rotateZ(90deg) translate(25%,0%);
   transition: transform 0.2s;
}
.ledger .trgroup {
   overflow-y: hidden;
}
.ledger .trgroup.collapsed .tr.details .th,
.ledger .trgroup.collapsed .tr.details .td {
   transition: height 0.2s, padding 0.2s;
   height: 0;
   padding: 0 0;
}
.ledger .trgroup.expanded .tr.details .th,
.ledger .trgroup.expanded .tr.details .td {
   transition: height 0.2s, padding 0.2s;
}
.ledger .thead,
.ledger .tbody,
.ledger .tfoot {
   /* Leave space on the sides of the table for the expansion arrows */
   padding-left: 20px;
}

/**
 * Rows can have a background color
 */
.ledger.background .tbody .tr.first {
   background: var(--table-row-background);
}
.ledger .tbody .tr.details {
   background: var(--table-row-details-background);
}

/* A row can have all its cells right-aligned (i.e. not in the usual columns) */
.ledger .tr.right-aligned {
   justify-content: flex-end;
}
.ledger .tr.right-aligned .th,
.ledger .tr.right-aligned .td {
   flex: 0 0 auto;
   white-space: nowrap;
}

/* Highlight row under the mouse cursor. Rows can be grouped so that they are
 * all highlighted when the mouse is over any of them, used for split
 * transactions. */
.ledger .tbody .trgroup:hover .tr,
.ledger .tbody .tr:hover {
   background: var(--table-hover-background);
}

/* Warning for inconsistent data */
.ledger .td.warn:before {
   content: '\f06a';
   font: normal normal normal 14px/1 FontAwesome;
   margin-right: 2px;
   color: #f2e154;
}

/* Editing */
.ledger .tr.edit .td input,
.ledger .tr.edit .td select {
   width: calc(100% - 9px);
}
.ledger .tr.edit .td.reconcile select {
   -moz-appearance: none;
   -webkit-appearance: none;
   appearance: none;
}


/**
 * Column-specific settings
 */
.ledger .date {
   flex: 0 0 6em;
   font-family: "minion pro", "myriad pro", "tahoma";
   font-variant-numeric: oldstyle-nums tabular-nums;
   font-variant-numeric: lining-nums tabular-nums;
}
.ledger .num {
   flex: 0 0 60px;
}
.ledger .reconcile {
   flex: 0 0 1.5em;
   text-align: center;
}
.ledger .amount {
   flex: 0 0 7em;
   text-align: right;
}

